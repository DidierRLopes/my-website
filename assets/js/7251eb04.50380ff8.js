"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[92940],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=p(a),h=r,k=m["".concat(l,".").concat(h)]||m[h]||u[h]||s;return a?n.createElement(k,i(i({ref:t},c),{},{components:a})):n.createElement(k,i({ref:t},c))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,i=new Array(s);i[0]=h;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<s;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},63789:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const s={slug:"slack-gpt-summarizing-messages",title:"SlackGPT - Your Slack bot that summarizes unread messages",date:new Date("2024-01-15T00:00:00.000Z"),image:"https://github.com/DidierRLopes/my-website/assets/25267873/d87dc0c7-96b6-42b8-8c7a-8bcd6240510a",tags:["slack","slackgpt","llm","summarization","open source","bot"],description:"The SlackGPT is a Slack bot that summarizes conversations and sends you a summary per channel."},i=void 0,o={permalink:"/blog/slack-gpt-summarizing-messages",editUrl:"https://github.com/DidierRLopes/my-website/tree/main/blog/2024-01-15-slack-gpt-summarizing-messages.md",source:"@site/blog/2024-01-15-slack-gpt-summarizing-messages.md",title:"SlackGPT - Your Slack bot that summarizes unread messages",description:"The SlackGPT is a Slack bot that summarizes conversations and sends you a summary per channel.",date:"2024-01-15T00:00:00.000Z",formattedDate:"January 15, 2024",tags:[{label:"slack",permalink:"/blog/tags/slack"},{label:"slackgpt",permalink:"/blog/tags/slackgpt"},{label:"llm",permalink:"/blog/tags/llm"},{label:"summarization",permalink:"/blog/tags/summarization"},{label:"open source",permalink:"/blog/tags/open-source"},{label:"bot",permalink:"/blog/tags/bot"}],readingTime:3.825,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"slack-gpt-summarizing-messages",title:"SlackGPT - Your Slack bot that summarizes unread messages",date:"2024-01-15T00:00:00.000Z",image:"https://github.com/DidierRLopes/my-website/assets/25267873/d87dc0c7-96b6-42b8-8c7a-8bcd6240510a",tags:["slack","slackgpt","llm","summarization","open source","bot"],description:"The SlackGPT is a Slack bot that summarizes conversations and sends you a summary per channel."},prevItem:{title:"Introducing the OpenBB Add-in for Excel",permalink:"/blog/introducing-the-openbb-add-in-for-excel"},nextItem:{title:"Building my personal website in Docusaurus",permalink:"/blog/building-my-personal-website-in-docusaurus"}},l={authorsImageUrls:[]},p=[{value:"Context",id:"context",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Slack API",id:"slack-api",level:3},{value:"OpenAI API",id:"openai-api",level:3},{value:"Slack channels",id:"slack-channels",level:3},{value:"Running",id:"running",level:3},{value:"Results",id:"results",level:2}],c={toc:p},m="wrapper";function u(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/d87dc0c7-96b6-42b8-8c7a-8bcd6240510a"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"The SlackGPT is a Slack bot that summarizes conversations and sends you a summary per channel."),(0,r.kt)("p",null,"The open source code is available ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/DidierRLopes/slackGPT"},"here"),"."),(0,r.kt)("div",{style:{borderTop:"1px solid #0088CC",margin:"1.5em 0"}}),(0,r.kt)("h2",{id:"context"},"Context"),(0,r.kt)("p",null,"Saw someone the other day tweeting that it would be great if there was a SlackGPT that could summarize all the Slack messages for when they wake up."),(0,r.kt)("p",null,"And I immediately related to that. We are a team of 20, and I'm the only one in SF. So when I wake up, most of the team is already half a day in or has just wrapped up."),(0,r.kt)("p",null,"That means that I always spend the first 30 minutes of the day reading messages to catch-up on everything."),(0,r.kt)("p",null,"And tonight felt like hacking something quick."),(0,r.kt)("p",null,"So I created a script that:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Reads all Slack messages from the time I go to bed"),(0,r.kt)("li",{parentName:"ul"},"Summarizes the conversation of each channel"),(0,r.kt)("li",{parentName:"ul"},"The bot sends me a message with this summary")),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("p",null,"Clone the open source project ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/DidierRLopes/slackGPT"},"here"),"."),(0,r.kt)("h3",{id:"slack-api"},"Slack API"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://api.slack.com/apps"},"Slack API page")," and create a new app.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Install the app in the workspace you are interested in summarizing Slack messages.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Get the User OAuth Token which exists in the Install App settings. This will be needed to use Slack's SDK. Set this value as the ",(0,r.kt)("inlineCode",{parentName:"p"},"SLACK_TOKEN")," on a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file if you want to run the script locally or as a GitHub secret if you want to leverage the GitHub workflow."))),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/8aae6649-7d43-41b6-95ed-80ae39996ab2"})),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create a ",(0,r.kt)("strong",{parentName:"p"},"Webhook URL")," for your channel so that you can receive messages' summary. Set this value as the ",(0,r.kt)("inlineCode",{parentName:"p"},"SLACK_WEBHOOK_URL`` on a "),".env` file if you want to run the script locally or as a GitHub secret if you want to leverage the GitHub workflow.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Depending on the type of access needed, different ",(0,r.kt)("strong",{parentName:"p"},"User Token Scopes")," need to be set. Here's the methods that we will need and the associated user token scopes."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"conversations_history: This method retrieves a conversation's history of messages and events. It requires the ",(0,r.kt)("strong",{parentName:"p"},"channels:history")," scope for public channels, or ",(0,r.kt)("strong",{parentName:"p"},"groups:history")," for private channels and im:history for direct messages.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"users_info: This method returns information about a user. It requires the ",(0,r.kt)("strong",{parentName:"p"},"users:read")," scope.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"conversations_info: This method retrieves information about a conversation. It requires the ",(0,r.kt)("strong",{parentName:"p"},"channels:read")," scope for public channels, or ",(0,r.kt)("strong",{parentName:"p"},"groups:read")," for private channels and im:read for direct messages."))))),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/a710c526-e6ca-4fdc-954d-f720f0dbb973"})),(0,r.kt)("h3",{id:"openai-api"},"OpenAI API"),(0,r.kt)("p",null,"Go to ",(0,r.kt)("a",{parentName:"p",href:"https://platform.openai.com/api-keys"},"OpenAI API page")," to extract the API key. Set this value as the ",(0,r.kt)("inlineCode",{parentName:"p"},"OPENAI_API_KEY")," on a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file if you want to run the script locally or as a GitHub secret if you want to leverage the GitHub workflow."),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/92bd4c45-c34b-42f6-a5e9-b76971ee9881"})),(0,r.kt)("h3",{id:"slack-channels"},"Slack channels"),(0,r.kt)("p",null,"Get the Channel IDs that you are interested in reading messages from."),(0,r.kt)("p",null,"Set those values as the ",(0,r.kt)("inlineCode",{parentName:"p"},"SLACK_CHANNEL_IDS")," on a ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," file if you want to run the script locally or as a GitHub secret if you want to leverage the GitHub workflow. If you want to read from multiple channels you can set ",(0,r.kt)("inlineCode",{parentName:"p"},"SLACK_CHANNEL_IDS")," with multiple IDs separated by commas (with no space), e.g. ABC123,DEF456,GHI789."),(0,r.kt)("br",null),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/1c24436f-940d-473e-8549-88d3d1b53fd4"})),(0,r.kt)("h3",{id:"running"},"Running"),(0,r.kt)("p",null,"After you fork the project ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/DidierRLopes/slackGPT"},"here"),", there are 2 ways you can run the code."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Ad-hoc by running the python script with ",(0,r.kt)("inlineCode",{parentName:"p"},"python slackgpt.py"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Automatically, by leveraging GitHub actions. For this you will need to set up GitHub secrets and you can modify ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/DidierRLopes/slackGPT/blob/main/.github/workflows/main.yml"},"this workflow")," in order to change the frequency of the messages sumary. "))),(0,r.kt)("p",null,"The most important part of this script is the ",(0,r.kt)("inlineCode",{parentName:"p"},"cron: '0 8 * * 1-5'")," which specifies the frequency. In this case, the expression means that the task will run at 8:00 AM from Monday to Friday, and breaks down as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"0: Specifies the minute when the task will run (in this case, 0 minutes).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"8: Specifies the hour when the task will run (in this case, 8 AM).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"*: Represents any day of the month, meaning the task is not restricted to a specific day.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"*: Represents any month, meaning the task is not restricted to a specific month.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"1-5: Specifies the days of the week when the task will run (Monday to Friday)."))),(0,r.kt)("h2",{id:"results"},"Results"),(0,r.kt)("p",null,"By inputting the following text on the Slack channel of my choice:"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/0622eca6-76c5-46f9-86bd-e357fa8b934b"})),(0,r.kt)("p",null,"The SlackGPT summarized it as follows:"),(0,r.kt)("p",{align:"center"},(0,r.kt)("img",{width:"600",src:"https://github.com/DidierRLopes/my-website/assets/25267873/4a20acf4-7ed6-4f18-96b8-a63f1072e6b1"})))}u.isMDXComponent=!0}}]);